<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Akkzeptanz- und Handlungsfragebogen, AAQ-Rev-16</title>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <style>
        /* Allgemeine Einstellungen f√ºr den Body */
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            margin: 0;
            padding: 40px 20px;
            background-color: #f0f2f5;
            color: #333;
            display: flex;
            justify-content: center;
            align-items: flex-start;
            min-height: 100vh;
        }
        /* Container f√ºr den gesamten Test, um ihn zu zentrieren und zu stylen */
        .container {
            background-color: #ffffff;
            padding: 40px;
            border-radius: 10px;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
            max-width: 800px;
            width: 100%;
            box-sizing: border-box;
        }
        h1 {
            color: #0056b3;
            text-align: center;
            margin-bottom: 30px;
            font-size: 2.2em;
        }
p {
    font-size: 1.1em;
    line-height: 1.6;
    margin-bottom: 20px;
}

/* Container f√ºr jede Frage */
.question {
    margin-bottom: 25px;
    padding: 15px 0;
    border-bottom: 1px solid #eee;
}

.question:last-of-type {
    border-bottom: none;
}

/* --- KORREKTUR F√úR DIE √úBERSCHRIFT (FRAGETEXT) --- */
/* W√§hlt das Label mit der Klasse 'question-text' aus und macht es fett */
.question-text {
    font-weight: bold; /* Macht die √úberschrift fett */
    margin-bottom: 15px;
    font-size: 1.1em;
    color: #555;
    display: block; /* Stellt sicher, dass es eine eigene Zeile einnimmt */
}

/* --- KORREKTUR F√úR DIE SKALA-OPTIONEN (ZAHLEN) --- */
.scale {
    display: flex;
    justify-content: space-between;
    background-color: #f9f9f9;
    border-radius: 8px;
    overflow: hidden;
    border: 1px solid #ddd;
    margin-top: 10px;
    gap: 1px; /* Abstand zwischen den Optionen */
    /* F√ºge hier align-items: center hinzu, um die vertikale Ausrichtung zu gew√§hrleisten */
    align-items: center; /* WICHTIG: Stellt sicher, dass alle Items vertikal zentriert sind */
}

.scale label {
    flex: 1;
    text-align: center;
    /* Vertikale Zentrierung wird bereits durch .scale mit align-items: center behandelt. */
    /* Zus√§tzliche Padding oder Height hier k√∂nnten zu den "nach oben ger√ºckt" Problemen f√ºhren. */
    padding: 12px 5px; /* Beh√§lt dein bestehendes Padding bei */
    cursor: pointer;
    transition: background-color 0.3s ease, border-color 0.3s ease;
    position: relative;
    color: #666;
    background-color: #f9f9f9;
    box-sizing: border-box;
    font-weight: normal; /* WICHTIG: Stellt sicher, dass Zahlen standardm√§√üig nicht fett sind */
}

.scale label:hover {
    background-color: #e9f0f9;
}

/* Versteckt den eigentlichen Radio-Button */
.scale input[type="radio"] {
    position: absolute;
    opacity: 0;
    width: 1px;
    height: 1px;
    padding: 0;
    margin: -1px;
    overflow: hidden;
    clip: rect(0, 0, 0, 0);
    border: 0;
}

/* Stil f√ºr die Ziffern im Label */
.scale label span {
    display: flex; /* Flexbox f√ºr Zentrierung innerhalb des Span */
    align-items: center; /* Vertikale Zentrierung innerhalb des Span */
    justify-content: center; /* Horizontale Zentrierung innerhalb des Span */
    width: 100%;
    height: 100%;
    /* Entferne 'top: 0;' und 'left: 0;', da diese im Kontext von flexbox (im Eltern-Label)
       nicht mehr ben√∂tigt werden und bei 'position: relative' des Labels ausreichen k√∂nnten
       oder sogar Probleme verursachen k√∂nnten. */
    transition: background-color 0.3s ease, color 0.3s ease;
    font-size: 1.1em; /* Macht die Ziffern etwas gr√∂√üer */
}

/* Stil f√ºr die ausgew√§hlte Option */
.scale input[type="radio"]:checked + span {
    background-color: #007bff;
    color: white;
    font-weight: bold; /* Macht die ausgew√§hlte Zahl fett */
    border-color: #007bff;
}

/* Styling f√ºr den Absenden-Button - unver√§ndert */
button {
    display: block;
    width: 100%;
    padding: 15px 20px;
    background-color: #28a745;
    color: white;
    border: none;
    border-radius: 5px;
    font-size: 1.2em;
    cursor: pointer;
    transition: background-color 0.3s ease, transform 0.2s ease;
    margin-top: 30px;
}
        /* Stil f√ºr die Ziffern im Label */
        .scale label span {
            display: flex; /* Flexbox f√ºr Zentrierung */
            align-items: center; /* Vertikale Zentrierung */
            justify-content: center; /* Horizontale Zentrierung */
            width: 100%;
            height: 100%;
            /* Wichtig: Entferne `position: absolute` hier, wenn es nicht unbedingt n√∂tig ist,
               oder stelle sicher, dass es sich auf das umgebende Label bezieht.
               Da das Label selbst `position: relative` hat, sollte es funktionieren.
            */
            top: 0; /* Stellt sicher, dass das Span ganz oben im Label beginnt */
            left: 0; /* Stellt sicher, dass das Span ganz links im Label beginnt */
            transition: background-color 0.3s ease, color 0.3s ease;
            font-size: 1.1em;
        }
        /* Stil f√ºr die ausgew√§hlte Option */
        .scale input[type="radio"]:checked + span {
            background-color: #007bff;
            color: white;
            font-weight: bold;
            border-color: #007bff;
        }
        /* Styling f√ºr den Absenden-Button und Ergebnisse - unver√§ndert */
        button {
            display: block;
            width: 100%;
            padding: 15px 20px;
            background-color: #28a745;
            color: white;
            border: none;
            border-radius: 5px;
            font-size: 1.2em;
            cursor: pointer;
            transition: background-color 0.3s ease, transform 0.2s ease;
            margin-top: 30px;
        }
        button:hover {
            background-color: #218838;
            transform: translateY(-2px);
        }
        button:active {
            transform: translateY(0);
        }
        .result {
            display: none;
            margin-top: 30px;
            padding: 25px;
            background-color: #e6f7ff;
            border: 1px solid #b3e0ff;
            border-radius: 8px;
            text-align: center;
            font-size: 1.1em;
            line-height: 1.6;
        }
        .result h2 {
            color: #0056b3;
            margin-top: 0;
            font-size: 1.8em;
        }
        #detailed-results {
            margin-top: 20px;
            text-align: left;
            padding: 15px;
            background-color: #f7fcff;
            border-radius: 5px;
            border: 1px solid #cceeff;
        }
        #detailed-results h3 {
            color: #0056b3;
            margin-top: 0;
            margin-bottom: 10px;
            font-size: 1.5em;
            text-align: center;
        }
        #aaqChart {
            max-height: 350px;
            width: 100% !important;
            height: auto !important;
            margin-top: 15px;
            margin-bottom: 20px;
        }
        .score-interpretation-item {
            margin-top: 20px;
            background-color: #fff;
            padding: 20px;
            border-radius: 8px;
            box-shadow: 0 2px 5px rgba(0,0,0,0.05);
            text-align: left;
        }
        .score-interpretation-item h4 {
            color: #007bff;
            margin-top: 0;
            margin-bottom: 10px;
            font-size: 1.5em;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        .score-interpretation-item .symbol {
            font-size: 1.8em;
        }
        .score-interpretation-item p {
            font-size: 1.0em;
            line-height: 1.5;
            color: #333;
            margin-bottom: 0;
        }
        /* Media Queries f√ºr Responsivit√§t auf kleineren Bildschirmen */
        @media (max-width: 768px) {
            body {
                padding: 20px 10px;
            }
            .container {
                padding: 20px;
                box-shadow: none;
            }
            h1 {
                font-size: 1.8em;
            }
            /* Anpassung der Schriftgr√∂√üe f√ºr den Einf√ºhrungstext auf kleineren Bildschirmen */
            p {
                font-size: 1.0em; /* Reduziert die Schriftgr√∂√üe f√ºr den p-Tag */
                line-height: 1.5;
            }
            .question label:first-of-type {
                font-size: 1em;
            }
            .scale label {
                padding: 10px 3px;
                font-size: 0.85em;
            }
            button {
                font-size: 1.1em;
                padding: 12px 15px;
            }
            .result h2 {
                font-size: 1.5em;
            }
            #detailed-results h3 {
                font-size: 1.3em;
            }
            #aaqChart {
                max-height: 200px;
            }
            .score-interpretation-item h4 {
                font-size: 1.3em;
            }
            .score-interpretation-item .symbol {
                font-size: 1.5em;
            }
            .score-interpretation-item p {
                font-size: 0.9em;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>Akkzeptanz- und Handlungsfragebogen, AAQ-Rev-16  </h1>

        
 <p>Bitte w√§hlen Sie eine zutreffende Aussage mit dem jeweiligen Button.</p>
 <p>1 = nie zutreffend bis 7 = immer zutreffend.</p>
 <p>Bedenken Sie, dass dieser Test eine vereinfachte Momentaufnahme ist und nicht die volle Komplexit√§t Ihrer Pers√∂nlichkeit abbilden kann. </p>
 <p>Er dient als n√ºtzliche Orientierungshilfe und gibt eine √úbersicht der physiologischen Flexibilit√§t.</p>
 <p>Es werden keine Daten gespeichert und ist 100% anonym.</p>


        
        <form id="aaqForm">

            <div class="question">
    <label for="q1" class="question-text">1. Ich bin in der Lage bei einem Problem aktiv zu werden, selbst wenn ich mir unsicher bin, was das Richtige ist.</label>
    <div class="scale">
                    <label><input type="radio" name="q1" value="1"><span>1</span></label>
                    <label><input type="radio" name="q1" value="2"><span>2</span></label>
                    <label><input type="radio" name="q1" value="3"><span>3</span></label>
                    <label><input type="radio" name="q1" value="4"><span>4</span></label>
                    <label><input type="radio" name="q1" value="5"><span>5</span></label>
                    <label><input type="radio" name="q1" value="6"><span>6</span></label>
                    <label><input type="radio" name="q1" value="7"><span>7</span></label>
                </div>
            </div>
            <div class="question">
                <label for="q2" class="question-text">2. Wenn ich mich deprimiert und √§ngstlich f√ºhle, bin ich unf√§hig, mich um meine Aufgaben zu k√ºmmern.</label>
                <div class="scale">
                    <label><input type="radio" name="q2" value="1"><span>1</span></label>
                    <label><input type="radio" name="q2" value="2"><span>2</span></label>
                    <label><input type="radio" name="q2" value="3"><span>3</span></label>
                    <label><input type="radio" name="q2" value="4"><span>4</span></label>
                    <label><input type="radio" name="q2" value="5"><span>5</span></label>
                    <label><input type="radio" name="q2" value="6"><span>6</span></label>
                    <label><input type="radio" name="q2" value="7"><span>7</span></label>
                </div>
            </div>
            <div class="question">
                <label for="q3" class="question-text">3. Ich versuche Gedanken und Gef√ºhle zu unterdr√ºcken die ich nicht mag, indem ich einfach nicht an sie denke.</label>
                <div class="scale">
                    <label><input type="radio" name="q3" value="1"><span>1</span></label>
                    <label><input type="radio" name="q3" value="2"><span>2</span></label>
                    <label><input type="radio" name="q3" value="3"><span>3</span></label>
                    <label><input type="radio" name="q3" value="4"><span>4</span></label>
                    <label><input type="radio" name="q3" value="5"><span>5</span></label>
                    <label><input type="radio" name="q3" value="6"><span>6</span></label>
                    <label><input type="radio" name="q3" value="7"><span>7</span></label>
                </div>
            </div>
            <div class="question">
                <label for="q4" class="question-text">4. Es ist in Ordnung sich deprimiert oder √§ngstlich zu f√ºhlen.</label>
                <div class="scale">
                    <label><input type="radio" name="q4" value="1"><span>1</span></label>
                    <label><input type="radio" name="q4" value="2"><span>2</span></label>
                    <label><input type="radio" name="q4" value="3"><span>3</span></label>
                    <label><input type="radio" name="q4" value="4"><span>4</span></label>
                    <label><input type="radio" name="q4" value="5"><span>5</span></label>
                    <label><input type="radio" name="q4" value="6"><span>6</span></label>
                    <label><input type="radio" name="q4" value="7"><span>7</span></label>
                </div>
            </div>
            <div class="question">
                <label for="q5" class="question-text">5. Ich mache mir selten Gedanken, wie ich meine √Ñngste, Sorgen und Gef√ºhle unter Kontrolle bekommen kann.</label>
                <div class="scale">
                    <label><input type="radio" name="q5" value="1"><span>1</span></label>
                    <label><input type="radio" name="q5" value="2"><span>2</span></label>
                    <label><input type="radio" name="q5" value="3"><span>3</span></label>
                    <label><input type="radio" name="q5" value="4"><span>4</span></label>
                    <label><input type="radio" name="q5" value="5"><span>5</span></label>
                    <label><input type="radio" name="q5" value="6"><span>6</span></label>
                    <label><input type="radio" name="q5" value="7"><span>7</span></label>
                </div>
            </div>
            <div class="question">
                <label for="q6" class="question-text">6. Um etwas Wichtiges zu machen, muss ich erst alle Zweifel aufr√§umen.</label>
                <div class="scale">
                    <label><input type="radio" name="q6" value="1"><span>1</span></label>
                    <label><input type="radio" name="q6" value="2"><span>2</span></label>
                    <label><input type="radio" name="q6" value="3"><span>3</span></label>
                    <label><input type="radio" name="q6" value="4"><span>4</span></label>
                    <label><input type="radio" name="q6" value="5"><span>5</span></label>
                    <label><input type="radio" name="q6" value="6"><span>6</span></label>
                    <label><input type="radio" name="q6" value="7"><span>7</span></label>
                </div>
            </div>
            <div class="question">
                <label for="q7" class="question-text">7. Ich habe keine Angst vor meinen Gef√ºhlen.</label>
                <div class="scale">
                    <label><input type="radio" name="q7" value="1"><span>1</span></label>
                    <label><input type="radio" name="q7" value="2"><span>2</span></label>
                    <label><input type="radio" name="q7" value="3"><span>3</span></label>
                    <label><input type="radio" name="q7" value="4"><span>4</span></label>
                    <label><input type="radio" name="q7" value="5"><span>5</span></label>
                    <label><input type="radio" name="q7" value="6"><span>6</span></label>
                    <label><input type="radio" name="q7" value="7"><span>7</span></label>
                </div>
            </div>
            <div class="question">
                <label for="q8" class="question-text">8. Ich gebe mir wirklich viel M√ºhe, um mich nicht deprimiert oder √§ngstlich zu f√ºhlen.</label>
                <div class="scale">
                    <label><input type="radio" name="q8" value="1"><span>1</span></label>
                    <label><input type="radio" name="q8" value="2"><span>2</span></label>
                    <label><input type="radio" name="q8" value="3"><span>3</span></label>
                    <label><input type="radio" name="q8" value="4"><span>4</span></label>
                    <label><input type="radio" name="q8" value="5"><span>5</span></label>
                    <label><input type="radio" name="q8" value="6"><span>6</span></label>
                    <label><input type="radio" name="q8" value="7"><span>7</span></label>
                </div>
            </div>
            <div class="question">
                <label for="q9" class="question-text">9. Angst ist etwas Schlechtes.</label>
                <div class="scale">
                    <label><input type="radio" name="q9" value="1"><span>1</span></label>
                    <label><input type="radio" name="q9" value="2"><span>2</span></label>
                    <label><input type="radio" name="q9" value="3"><span>3</span></label>
                    <label><input type="radio" name="q9" value="4"><span>4</span></label>
                    <label><input type="radio" name="q9" value="5"><span>5</span></label>
                    <label><input type="radio" name="q9" value="6"><span>6</span></label>
                    <label><input type="radio" name="q9" value="7"><span>7</span></label>
                </div>
            </div>
            <div class="question">
                <label for="q10" class="question-text">10. Trotz Zweifels glaube ich, meinem Leben eine Richtung geben zu k√∂nnen, an die ich mich halten kann.</label>
                <div class="scale">
                    <label><input type="radio" name="q10" value="1"><span>1</span></label>
                    <label><input type="radio" name="q10" value="2"><span>2</span></label>
                    <label><input type="radio" name="q10" value="3"><span>3</span></label>
                    <label><input type="radio" name="q10" value="4"><span>4</span></label>
                    <label><input type="radio" name="q10" value="5"><span>5</span></label>
                    <label><input type="radio" name="q10" value="6"><span>6</span></label>
                    <label><input type="radio" name="q10" value="7"><span>7</span></label>
                </div>
            </div>
            <div class="question">
                <label for="q11" class="question-text">11. Wenn ich alle schmerzvollen Erfahrungen, die ich in meinem Leben gemacht habe, weg- zaubern k√∂nnte, w√ºrde ich dies sofort tun.</label>
                <div class="scale">
                    <label><input type="radio" name="q11" value="1"><span>1</span></label>
                    <label><input type="radio" name="q11" value="2"><span>2</span></label>
                    <label><input type="radio" name="q11" value="3"><span>3</span></label>
                    <label><input type="radio" name="q11" value="4"><span>4</span></label>
                    <label><input type="radio" name="q11" value="5"><span>5</span></label>
                    <label><input type="radio" name="q11" value="6"><span>6</span></label>
                    <label><input type="radio" name="q11" value="7"><span>7</span></label>
                </div>
            </div>
            <div class="question">
                <label for="q12" class="question-text">12. Ich habe mein Leben im Griff.</label>
                <div class="scale">
                    <label><input type="radio" name="q12" value="1"><span>1</span></label>
                    <label><input type="radio" name="q12" value="2"><span>2</span></label>
                    <label><input type="radio" name="q12" value="3"><span>3</span></label>
                    <label><input type="radio" name="q12" value="4"><span>4</span></label>
                    <label><input type="radio" name="q12" value="5"><span>5</span></label>
                    <label><input type="radio" name="q12" value="6"><span>6</span></label>
                    <label><input type="radio" name="q12" value="7"><span>7</span></label>
                </div>
            </div>
            <div class="question">
                <label for="q13" class="question-text">13. Wenn ich mich bei einer Aufgabe langweile, kann ich sie dennoch zu Ende bringen.</label>
                <div class="scale">
                    <label><input type="radio" name="q13" value="1"><span>1</span></label>
                    <label><input type="radio" name="q13" value="2"><span>2</span></label>
                    <label><input type="radio" name="q13" value="3"><span>3</span></label>
                    <label><input type="radio" name="q13" value="4"><span>4</span></label>
                    <label><input type="radio" name="q13" value="5"><span>5</span></label>
                    <label><input type="radio" name="q13" value="6"><span>6</span></label>
                    <label><input type="radio" name="q13" value="7"><span>7</span></label>
                </div>
            </div>
            <div class="question">
                <label for="q14" class="question-text">14. Sorgen k√∂nnen meinem Erfolg im Wege stehen.</label>
                <div class="scale">
                    <label><input type="radio" name="q14" value="1"><span>1</span></label>
                    <label><input type="radio" name="q14" value="2"><span>2</span></label>
                    <label><input type="radio" name="q14" value="3"><span>3</span></label>
                    <label><input type="radio" name="q14" value="4"><span>4</span></label>
                    <label><input type="radio" name="q14" value="5"><span>5</span></label>
                    <label><input type="radio" name="q14" value="6"><span>6</span></label>
                    <label><input type="radio" name="q14" value="7"><span>7</span></label>
                </div>
            </div>
            <div class="question">
                <label for="q15" class="question-text">15. Ich sollte mich so verhalten, wie ich mich im Augenblick f√ºhle.</label>
                <div class="scale">
                    <label><input type="radio" name="q15" value="1"><span>1</span></label>
                    <label><input type="radio" name="q15" value="2"><span>2</span></label>
                    <label><input type="radio" name="q15" value="3"><span>3</span></label>
                    <label><input type="radio" name="q15" value="4"><span>4</span></label>
                    <label><input type="radio" name="q15" value="5"><span>5</span></label>
                    <label><input type="radio" name="q15" value="6"><span>6</span></label>
                    <label><input type="radio" name="q15" value="7"><span>7</span></label>
                </div>
            </div>
            <div class="question">
                <label for="q16" class="question-text">16. Wenn ich verspreche, etwas zu tun, werde ich es tun, selbst wenn es mir sp√§ter nicht danach sein sollte.</label>
                <div class="scale">
                    <label><input type="radio" name="q16" value="1"><span>1</span></label>
                    <label><input type="radio" name="q16" value="2"><span>2</span></label>
                    <label><input type="radio" name="q16" value="3"><span>3</span></label>
                    <label><input type="radio" name="q16" value="4"><span>4</span></label>
                    <label><input type="radio" name="q16" value="5"><span>5</span></label>
                    <label><input type="radio" name="q16" value="6"><span>6</span></label>
                    <label><input type="radio" name="q16" value="7"><span>7</span></label>
                </div>
            </div>
            <button type="button" onclick="calculateResults()">Absenden</button>
        </form>
        <div id="result" class="result">
            <h2>Deine Ergebnisse:</h2>
            <div id="detailed-results">
                <h3>√úbersicht deiner psychologischen Flexibilit√§t:</h3>
                <canvas id="aaqChart"></canvas>

                <div id="total-score-interpretation" class="score-interpretation-item">
                </div>
                <div id="bereitschaft-score-interpretation" class="score-interpretation-item">
                </div>
                <div id="handlung-score-interpretation" class="score-interpretation-item">
                </div>
                <p style="margin-top: 20px;">
                    **Hinweis zur Interpretation der Scores:** H√∂here Werte bedeuten eine h√∂here psychologische Flexibilit√§t in den jeweiligen Bereichen. Psychologische Flexibilit√§t ist entscheidend f√ºr die F√§higkeit, ein erf√ºlltes und werteorientiertes Leben zu f√ºhren, auch angesichts innerer und √§u√üerer Herausforderungen.
                </p>
            </div>
        </div>
    </div>
    <script>
        // Eine globale Variable, um die Chart-Instanz zu speichern
        let aaqChartInstance = null;
        function calculateResults() {
            const form = document.getElementById('aaqForm');
            const questions = form.querySelectorAll('.question');
            let allAnswered = true;
            questions.forEach((q, index) => {
                const radios = q.querySelectorAll(`input[name="q${index + 1}"]`);
                let answered = false;
                radios.forEach(radio => {
                    if (radio.checked) {
                        answered = true;
                    }
                });
                if (!answered) {
                    allAnswered = false;
                }
            });
            if (!allAnswered) {
                alert('Bitte beantworte alle Fragen, bevor du das Ergebnis anzeigst.');
                return;
            }
            const formData = new FormData(form);
            let totalFlexibilityScore = 0;
            let bereitschaftScore = 0;
            let handlungScore = 0;
            const maxScorePerItem = 7;
            const minScorePerItem = 1;
            const numberOfQuestions = 16;
            // Offizielle Reversed items f√ºr AAQ-Rev-16: 2, 3, 6, 8, 9, 11, 14, 15
            const reversedItems = [2, 3, 6, 8, 9, 11, 14, 15];
            // Zuordnung der Fragen zu den Sub-Skalen, wie von dir definiert (nicht offizielle AAQ-Rev-16 Subskalen)
            const bereitschaftIndices = [2, 3, 4, 5, 6, 7, 9]; // 7 Fragen
            const handlungIndices = [1, 8, 10, 11, 12, 13, 14, 15, 16]; // 9 Fragen
            for (let i = 1; i <= numberOfQuestions; i++) {
                const score = parseInt(formData.get(`q${i}`));
                let finalScore = score;

                // Anwenden des Reverse Scoring, falls die Frage in den reversedItems ist
                if (reversedItems.includes(i)) {
                    finalScore = (maxScorePerItem + minScorePerItem) - score; // (7+1) - score
                }
                // Summe f√ºr den Gesamtscore
                totalFlexibilityScore += finalScore;
                // Summe f√ºr die Bereitschaftsskala (basierend auf deinen Indices)
                if (bereitschaftIndices.includes(i)) {
                    bereitschaftScore += finalScore;
                }
                // Summe f√ºr die Handlungsskala (basierend auf deinen Indices)
                else if (handlungIndices.includes(i)) {
                    handlungScore += finalScore;
                }
            }
            // Maximale Punktzahlen f√ºr die Skalen
            const maxPossibleTotalScore = numberOfQuestions * maxScorePerItem; // 16 * 7 = 112
            const maxBereitschaftScore = bereitschaftIndices.length * maxScorePerItem; // 7 * 7 = 49
            const maxHandlungScore = handlungIndices.length * maxScorePerItem; // 9 * 7 = 63

            // ----------- START: Ergebnis-Interpretation und Anzeige -----------
            const totalScoreInterpretationDiv = document.getElementById('total-score-interpretation');
            const bereitschaftInterpretationDiv = document.getElementById('bereitschaft-score-interpretation');
            const handlungInterpretationDiv = document.getElementById('handlung-score-interpretation');

            // Interpretation f√ºr den Gesamtscore
            let totalInterpretationText = '';
            let totalInterpretationSymbol = '';
            let totalInterpretationTitle = '';
            const totalPercentage = (totalFlexibilityScore / maxPossibleTotalScore) * 100;
            if (totalPercentage >= 80) {
                totalInterpretationTitle = 'Der psychologisch Flexible ‚ú®';
                totalInterpretationText = `Dein Gesamtscore von **${totalFlexibilityScore} von ${maxPossibleTotalScore} Punkten** zeigt eine au√üergew√∂hnlich hohe psychologische Flexibilit√§t. Du bist sehr gut darin, unangenehme Gedanken und Gef√ºhle zu akzeptieren und dennoch handlungsf√§hig zu bleiben, um ein werteorientiertes Leben zu f√ºhren. Deine Anpassungsf√§higkeit und Resilienz sind bemerkenswert.`;
                totalInterpretationSymbol = 'üåü';
            } else if (totalPercentage >= 50) {
                totalInterpretationTitle = 'Auf dem Weg zur Flexibilit√§t üö∂‚Äç‚ôÄÔ∏è';
                totalInterpretationText = `Mit einem Gesamtscore von **${totalFlexibilityScore} von ${maxPossibleTotalScore} Punkten** besitzt du eine gute psychologische Flexibilit√§t. Du bist in der Lage, mit inneren Herausforderungen umzugehen und dein Handeln meist nach deinen Werten auszurichten. Es gibt Potential, deine Flexibilit√§t weiter zu st√§rken, um noch effektiver mit Stress und Schwierigkeiten umzugehen.`;
                totalInterpretationSymbol = 'üå±';
            } else {
                totalInterpretationTitle = 'Herausforderung psychologische Flexibilit√§t ‚è≥';
                totalInterpretationText = `Dein Gesamtscore von **${totalFlexibilityScore} von ${maxPossibleTotalScore} Punkten** deutet darauf hin, dass du derzeit m√∂glicherweise Schwierigkeiten hast, psychologisch flexibel zu sein. Du k√∂nntest dazu neigen, unangenehme Gedanken oder Gef√ºhle zu vermeiden, was dein Handeln einschr√§nken und es dir erschweren k√∂nnte, ein erf√ºlltes Leben gem√§√ü deiner Werte zu f√ºhren. Dies ist eine Chance zur Entwicklung.`;
                totalInterpretationSymbol = 'üöß';
            }
            totalScoreInterpretationDiv.innerHTML = `
                <h4><span class="symbol">${totalInterpretationSymbol}</span> ${totalInterpretationTitle}</h4>
                <p><strong>Gesamtscore: ${totalFlexibilityScore} / ${maxPossibleTotalScore} Punkte (${totalPercentage.toFixed(1)}%)</strong></p>
                <p>${totalInterpretationText}</p>
            `;

            // Interpretation f√ºr Bereitschaftsskala (DEINE Definition)
            let bereitText = '';
            let bereitSymbol = '';
            let bereitTitle = '';
            const bereitPercentage = (bereitschaftScore / maxBereitschaftScore) * 100;
            if (bereitPercentage >= 80) {
                bereitTitle = 'Offen f√ºr Erfahrungen üßò‚Äç‚ôÄÔ∏è';
                bereitText = `Deine Bereitschaft, dich schwierigen Gedanken und Gef√ºhlen zu stellen, ist sehr hoch. Du bist offen f√ºr Erfahrungen und flexibel im Umgang mit inneren Zust√§nden, was dir hilft, dich nicht von ihnen beherrschen zu lassen.`;
                bereitSymbol = 'üí°';
            } else if (bereitPercentage >= 50) {
                bereitTitle = 'Annahme und √ñffnung üí≠';
                bereitText = `Du zeigst eine gute Bereitschaft, dich deinen Emotionen und Gedanken anzunehmen. Es gibt Raum f√ºr Wachstum, aber du bist auf einem guten Weg, eine akzeptierende Haltung zu entwickeln.`;
                bereitSymbol = 'ü§î';
            } else {
                bereitTitle = 'Vermeidungstendenzen üõë';
                bereitText = `Du neigst dazu, unangenehme Gedanken und Gef√ºhle zu unterdr√ºcken oder zu vermeiden. Dies kann dein Handeln einschr√§nken und zu psychologischer Starrheit f√ºhren. Eine gr√∂√üere Bereitschaft zur Akzeptanz k√∂nnte hilfreich sein.`;
                bereitSymbol = 'üõë';
            }
            bereitschaftInterpretationDiv.innerHTML = `
                <h4><span class="symbol">${bereitSymbol}</span> ${bereitTitle}</h4>
                <p><strong>Bereitschaftsskala: ${bereitschaftScore} / ${maxBereitschaftScore} Punkte (${bereitPercentage.toFixed(1)}%)</strong></p>
                <p>${bereitText}</p>
            `;

            // Interpretation f√ºr Handlungsskala (DEINE Definition)
            let handlungText = '';
            let handlungSymbol = '';
            let handlungTitle = '';
            const handlungPercentage = (handlungScore / maxHandlungScore) * 100;
            if (handlungPercentage >= 80) {
                handlungTitle = 'Zielgerichteter Macher üöÄ';
                handlungText = `Deine Handlungsflexibilit√§t ist ausgezeichnet! Du bist in der Lage, auch unter schwierigen inneren Bedingungen zielgerichtet und werteorientiert zu handeln und deine Ziele zu verfolgen.`;
                handlungSymbol = 'üéØ';
            } else if (handlungPercentage >= 50) {
                handlungTitle = 'Werteorientiertes Handeln üë£';
                handlungText = `Du zeigst eine solide F√§higkeit, dein Handeln an deinen Werten auszurichten, selbst wenn es herausfordernd ist. Es gibt M√∂glichkeiten, deine Handlungsspielr√§ume weiter zu erweitern, um noch effektiver zu sein.`;
                handlungSymbol = '‚û°Ô∏è';
            } else {
                handlungTitle = 'Blockiertes Handeln üöß';
                handlungText = `Es f√§llt dir m√∂glicherweise schwer, deine Handlungen konsequent an deinen Werten auszurichten, insbesondere wenn unangenehme Gedanken oder Gef√ºhle aufkommen. Dies kann zu Vermeidungsverhalten und Inaktivit√§t f√ºhren.`;
                handlungSymbol = '‚õìÔ∏è';
            }
            handlungInterpretationDiv.innerHTML = `
                <h4><span class="symbol">${handlungSymbol}</span> ${handlungTitle}</h4>
                <p><strong>Handlungsskala: ${handlungScore} / ${maxHandlungScore} Punkte (${handlungPercentage.toFixed(1)}%)</strong></p>
                <p>${handlungText}</p>
            `;

            document.getElementById('result').style.display = 'block';

            // ----------- START: Chart.js Integration -----------
            const ctx = document.getElementById('aaqChart').getContext('2d');
            // Wenn schon eine Chart-Instanz existiert, zerst√∂re sie, bevor eine neue erstellt wird
            if (aaqChartInstance) {
                aaqChartInstance.destroy();
            }
            // Daten f√ºr die drei Scores, als Prozentsatz
            const chartLabels = ['Gesamtscore', 'Bereitschaftsskala', 'Handlungsskala'];
            const chartData = [totalPercentage, bereitPercentage, handlungPercentage];
            const backgroundColors = [
                'rgba(75, 192, 192, 0.7)',
                'rgba(54, 162, 235, 0.7)',
                'rgba(255, 159, 64, 0.7)'
            ];
            const borderColors = [
                'rgba(75, 192, 192, 1)',
                'rgba(54, 162, 235, 1)',
                'rgba(255, 159, 64, 1)'
            ];

            aaqChartInstance = new Chart(ctx, {
                type: 'bar',
                data: {
                    labels: chartLabels,
                    datasets: [{
                        label: 'Anteil in % der maximalen Punktzahl',
                        data: chartData,
                        backgroundColor: backgroundColors,
                        borderColor: borderColors,
                        borderWidth: 1
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    scales: {
                        y: {
                            beginAtZero: true,
                            max: 100,
                            title: {
                                display: true,
                                text: 'Anteil in %'
                            }
                        },
                        x: {
                            grid: {
                                display: false
                            }
                        }
                    },
                    plugins: {
                        legend: {
                            display: true,
                            position: 'top'
                        },
                        tooltip: {
                            callbacks: {
                                label: function(context) {
                                    let label = context.dataset.label || '';
                                    if (label) {
                                        label += ': ';
                                    }
                                    if (context.parsed.y !== null) {
                                        label += context.parsed.y.toFixed(1) + '%';
                                    }
                                    return label;
                                }
                            }
                        }
                    }
                }
            });
            // ----------- END: Chart.js Integration -----------

            // Autoscroll zum Ergebnis
            document.getElementById('result').scrollIntoView({ behavior: 'smooth', block: 'start' });
        }
    </script>
</body>
</html>
