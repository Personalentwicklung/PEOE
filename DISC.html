<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>DISC Persönlichkeitstest</title>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Open+Sans:wght@400;600;700&display=swap');

        body {
            font-family: 'Open Sans', sans-serif;
            margin: 0;
            padding: 20px;
            line-height: 1.6;
            color: #333;
            background: linear-gradient(to right, #ece9e6, #ffffff); /* Heller, weicher Farbverlauf */
            display: flex;
            flex-direction: column;
            align-items: center;
            min-height: 100vh;
        }
        h1 {
            color: #2c3e50;
            text-align: center;
            margin-bottom: 30px; /* Abstand nach dem Titel */
            font-size: 2.5em;
            font-weight: 700;
        }
        /* Dieses Bild ist NICHT in der introduction-box, falls es am ganz oberen Rand des Bodys sein sollte */
        .disc-model-image { /* Styling für das DISC-Bild */
            max-width: 300px; /* Maximale Breite des Bildes */
            height: auto;
            display: block; /* Zentrierung ermöglichen */
            margin: 0 auto 40px auto; /* Zentrieren und Abstand nach unten */
            border: 1px solid #ddd; /* Leichter Rahmen, optional */
            border-radius: 8px; /* Leicht abgerundete Ecken, optional */
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.08); /* Leichter Schatten, optional */
        }

        .introduction-box { /* Neuer Container für den Einführungstext */
            max-width: 900px; /* Anpassung an die Formularbreite */
            margin-bottom: 30px; /* Abstand zum Formular */
            background-color: #f0f8ff; /* Sehr helles Blau */
            border: 1px solid #cceeff; /* Heller blauer Rand */
            border-radius: 12px;
            padding: 25px 30px; /* Innenabstand für den Text */
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.08); /* Leichter Schatten */
            overflow: hidden; /* Wichtig für float, um den Container um das gefloatete Element zu umschließen */
        }
        
        /* Styling für das Bild INNERHALB der introduction-box (Standard-Platzierung, falls nicht gefloatet) */
        .introduction-box .introduction-model-image {
            max-width: 80%; /* Bild ist 80% der Box-Breite */
            height: auto;
            display: block; /* Für Zentrierung */
            margin: 20px auto 25px auto; /* Abstand oben/unten und zentrieren */
            border: 1px solid #cceeff; /* Leichter Rahmen */
            border-radius: 8px;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.05);
        }

        /* NEUE CSS-Regeln für das umfließende Bild */
        .disc-float-right {
            float: right; /* Bild nach rechts floatten lassen */
            margin: 0 0 15px 25px; /* Abstand: oben 0, rechts 0, unten 15px, links 25px zum Text */
            max-width: 40%; /* Bild soll maximal 40% der Breite der Box einnehmen */
            height: auto; /* Höhe automatisch anpassen */
            border-radius: 8px; /* Leicht abgerundete Ecken */
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.08); /* Leichter Schatten */
            border: 1px solid #ddd;
        }

        .disc-float-left {
            float: left; /* Bild nach links floatten lassen */
            margin: 0 25px 15px 0; /* Abstand: oben 0, rechts 25px, unten 15px, links 0 zum Text */
            max-width: 40%; /* Bild soll maximal 40% der Breite der Box einnehmen */
            height: auto;
            border-radius: 8px;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.08);
            border: 1px solid #ddd;
        }

        .introduction-box p { /* Absätze innerhalb der Box stylen */
            font-size: 1.1em;
            color: #444;
            margin-bottom: 15px; /* Abstand zwischen Absätzen */
            line-height: 1.7; /* Besseres Zeilenabstand für Lesbarkeit */
            text-align: center; /* Absätze zentrieren */
        }
        .introduction-box p:last-child {
            margin-bottom: 0; /* Kein Abstand nach dem letzten Absatz */
        }
        .introduction-box ul { /* Styling für die Liste innerhalb der Box */
            list-style-type: none; /* Aufzählungszeichen entfernen */
            padding: 0; /* Standard-Padding entfernen */
            margin: 15px auto 25px auto; /* Abstand über und unter der Liste, automatische Seitenränder für Zentrierung */
            max-width: fit-content; /* Liste zentrieren, indem sie nur so breit wie ihr Inhalt ist */
            text-align: left; /* Text innerhalb der Liste linksbündig */
        }
        .introduction-box ul li {
            font-size: 1.1em;
            color: #444;
            margin-bottom: 8px; /* Kleiner Abstand zwischen Listenelementen */
            line-height: 1.5;
            position: relative; /* Für absolute Positionierung des ::before Elements */
            padding-left: 1.5em; /* Platz für das benutzerdefinierte Aufzählungszeichen */
        }
        .introduction-box ul li strong {
            /* Keine spezifische Breite mehr, da die Einrückung über padding-left des li gesteuert wird */
        }
        .introduction-box ul li::before { /* Eigenes Aufzählungszeichen hinzufügen */
            content: "•"; /* Das Aufzählungszeichen */
            color: #3498db; /* Farbe des Aufzählungszeichens (z.B. Blau) */
            font-weight: bold;
            display: inline-block;
            position: absolute; /* Absolut positionieren */
            left: 0; /* Am linken Rand des li-Elements */
            top: 0; /* Oben im li-Element */
            width: 1em; /* Breite des Aufzählungszeichens */
            text-align: right; /* An den rechten Rand des vorgesehenen Platzes ausrichten */
            padding-right: 0.3em; /* Abstand zwischen Aufzählungszeichen und Text */
        }

        form {
            background-color: #fff;
            padding: 40px;
            border-radius: 12px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
            max-width: 900px;
            width: 100%;
            margin: 0 auto 30px auto;
            border: 1px solid #e0e0e0;
        }
        .question {
            margin-bottom: 10px; /* Abstand zwischen den FRAGEN (Blöcken) beibehalten */
            padding: 20px;
            background-color: #f7f9fc;
            border-left: 5px solid #3498db; /* Akzentfarbe */
            border-radius: 8px;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.05);
        }
        .question h3 {
            margin-top: 0;
            color: #34495e;
            font-size: 1.25em;
            margin-bottom: 20px;
            font-weight: 600;
        }
        .question label {
            display: flex; /* Für bessere Ausrichtung von Radio und Text */
            align-items: center;
            margin-bottom: 5px; /* Abstand zwischen Optionen verringert */
            cursor: pointer;
            font-size: 1.05em;
            padding: 8px;
            border-radius: 5px;
            transition: background-color 0.2s ease;
        }
        .question label:hover {
            background-color: #e9f5fd; /* Leichter Hover-Effekt */
        }
        .question input[type="radio"] {
            margin-right: 12px;
            transform: scale(1.2); /* Radio-Buttons etwas größer */
            accent-color: #3498db; /* Akzentfarbe für Radio-Button */
        }
        button {
            display: block;
            width: 100%;
            padding: 15px 25px;
            background-color: #2ecc71; /* Grüner Button für Aktion */
            color: white;
            border: none;
            border-radius: 8px;
            font-size: 1.2em;
            font-weight: 600;
            cursor: pointer;
            transition: background-color 0.3s ease, transform 0.2s ease;
            margin-top: 30px;
            box-shadow: 0 4px 15px rgba(46, 204, 113, 0.4);
        }
        button:hover {
            background-color: #27ae60;
            transform: translateY(-2px);
        }
        button:active {
            transform: translateY(0);
        }

        .result {
            margin-top: 40px;
            padding: 30px;
            border-radius: 12px;
            background-color: #e3f2fd; /* Hellblau für Erfolg */
            border: 1px solid #bbdefb; /* Etwas dunkleres Blau für den Rand */
            color: #1565c0; /* Dunkleres Blau für den Text */
            max-width: 900px;
            width: 100%;
            box-shadow: 0 5px 20px rgba(0, 0, 0, 0.1);
            font-size: 1.1em;
            line-height: 1.8;
            display: none; /* Initial versteckt */
        }
        .result.show {
            display: block; /* Bei Anzeige einblenden */
        }
        .result.error {
            background-color: #ffebee; /* Rot für Fehler beibehalten */
            border: 1px solid #ffcdd2;
            color: #d32f2f;
        }
        .result h2 {
            color: #2c3e50; /* Titel bleibt dunkelgrau/blau */
            font-size: 1.8em;
            margin-bottom: 20px;
            text-align: center;
        }
        .result p {
            margin-bottom: 10px;
        }
        .result strong {
            color: #333; /* Fette Schrift bleibt dunkelgrau */
        }

        /* Diagramm-Container */
        .chart-container {
            width: 100%;
            max-width: 600px; /* Begrenzung der Diagrammgröße */
            margin: 30px auto 0 auto;
            background-color: #fff;
            padding: 20px;
            border-radius: 8px;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.08);
            border: 1px solid #eee;
        }
        .chart-container canvas {
            max-height: 400px; /* Maximale Höhe für das Diagramm */
        }
    </style>
</head>
<body>
    <h1>DISC Persönlichkeitstest</h1>
    
    <div class="introduction-box">
        <p>Willkommen zum DISC Persönlichkeitstest!</p>
        
        <img src="https://github.com/user-attachments/assets/8a91bce0-be82-49eb-ab2c-9d6870f64867" alt="DISC Modell" class="disc-float-right">
        
        <p>Dieses kurze Quiz hilft Ihnen, erste Einblicke in Ihr Verhaltensprofil gemäß dem etablierten DISC-Modell zu gewinnen.</p>
        <p>Das Modell unterteilt menschliches Verhalten in vier grundlegende Dimensionen:</p>
        <ul>
            <li><strong>D (Dominanz):</strong> Wie Sie Herausforderungen angehen und Probleme lösen.</li>
            <li><strong>I (Initiative):</strong> Wie Sie Menschen beeinflussen und kommunizieren.</li>
            <li><strong>S (Stetigkeit):</strong> Wie Sie mit Veränderungen umgehen und Ihre Aufgaben organisieren.</li>
            <li><strong>C (Conform):</strong> Wie Sie auf Regeln reagieren und Ihre Arbeitsqualität sichern.</li>
        </ul>
        <p>Bitte beantworten Sie die folgenden 12 Fragen intuitiv. Bedenken Sie, dass dieser Test eine vereinfachte Momentaufnahme ist und nicht die volle Komplexität Ihrer Persönlichkeit abbilden kann. 
            Er dient als nützliche Orientierungshilfe zur Selbstreflexion und zum besseren Verständnis Ihrer Interaktionen mit anderen.</p>
        <p>Es werden keine Daten gespeichert und ist 100% anonym.</p>
    </div>

    <form id="disc-test">
        <div class="question">
            <h3>1. Wie reagieren Sie in einer neuen Gruppe?</h3>
            <label><input type="radio" name="q1" value="D"> Ich übernehme schnell die Führung.</label><br>
            <label><input type="radio" name="q1" value="I"> Ich bringe gute Stimmung rein.</label><br>
            <label><input type="radio" name="q1" value="S"> Ich beobachte erst mal ruhig.</label><br>
            <label><input type="radio" name="q1" value="C"> Ich analysiere die Situation genau.</label>
        </div>
        <div class="question">
            <h3>2. Wie gehen Sie mit Konflikten um?</h3>
            <label><input type="radio" name="q2" value="D"> Ich konfrontiere das Problem direkt.</label><br>
            <label><input type="radio" name="q2" value="I"> Ich versuche, die Stimmung zu heben.</label><br>
            <label><input type="radio" name="q2" value="S"> Ich versuche, den Konflikt zu vermeiden.</label><br>
            <label><input type="radio" name="q2" value="C"> Ich analysiere die Ursachen des Konflikts.</label>
        </div>
        <div class="question">
            <h3>3. Wie organisieren Sie Ihre Arbeit?</h3>
            <label><input type="radio" name="q3" value="D"> Ich setze klare Ziele und Deadlines.</label><br>
            <label><input type="radio" name="q3" value="I"> Ich arbeite gerne im Team und motiviere andere.</label><br>
            <label><input type="radio" name="q3" value="S"> Ich arbeite ruhig und methodisch.</label><br>
            <label><input type="radio" name="q3" value="C"> Ich plane sorgfältig und achte auf Details.</label>
        </div>
        <div class="question">
            <h3>4. Wie reagieren Sie auf Veränderungen?</h3>
            <label><input type="radio" name="q4" value="D"> Ich sehe Veränderungen als Herausforderung.</label><br>
            <label><input type="radio" name="q4" value="I"> Ich begrüße Veränderungen mit Begeisterung.</label><br>
            <label><input type="radio" name="q4" value="S"> Ich bin vorsichtig und abwartend.</label><br>
            <label><input type="radio" name="q4" value="C"> Ich analysiere die Veränderungen gründlich.</label>
        </div>
        <div class="question">
            <h3>5. Wie treffen Sie Entscheidungen?</h3>
            <label><input type="radio" name="q5" value="D"> Ich treffe schnelle und entschlossene Entscheidungen.</label><br>
            <label><input type="radio" name="q5" value="I"> Ich beziehe andere in meine Entscheidungen ein.</label><br>
            <label><input type="radio" name="q5" value="S"> Ich überlege gründlich und vermeide Risiken.</label><br>
            <label><input type="radio" name="q5" value="C"> Ich analysiere alle verfügbaren Informationen.</label>
        </div>
        <div class="question">
            <h3>6. Wie gehen Sie mit Stress um?</h3>
            <label><input type="radio" name="q6" value="D"> Ich bleibe fokussiert und handle schnell.</label><br>
            <label><input type="radio" name="q6" value="I"> Ich suche Unterstützung und Motivation bei anderen.</label><br>
            <label><input type="radio" name="q6" value="S"> Ich bleibe ruhig und gelassen.</label><br>
            <label><input type="radio" name="q6" value="C"> Ich analysiere die Ursachen des Stresses.</label>
        </div>
        <div class="question">
            <h3>7. Wie gehen Sie mit Kritik um?</h3>
            <label><input type="radio" name="q7" value="D"> Ich nehme Kritik als Ansporn zur Verbesserung.</label><br>
            <label><input type="radio" name="q7" value="I"> Ich versuche, die Kritik positiv zu sehen.</label><br>
            <label><input type="radio" name="q7" value="S"> Ich nehme Kritik ruhig und gelassen an.</label><br>
            <label><input type="radio" name="q7" value="C"> Ich analysiere die Kritik und ziehe Schlüsse daraus.</label>
        </div>
        <div class="question">
            <h3>8. Wie motivieren Sie sich selbst?</h3>
            <label><input type="radio" name="q8" value="D"> Ich setze mir ehrgeizige Ziele.</label><br>
            <label><input type="radio" name="q8" value="I"> Ich suche nach neuen und aufregenden Herausforderungen.</label><br>
            <label><input type="radio" name="q8" value="S"> Ich arbeite kontinuierlich und methodisch.</label><br>
            <label><input type="radio" name="q8" value="C"> Ich analysiere meine Fortschritte und passe meine Strategie an.</label>
        </div>
        <div class="question">
            <h3>9. Wie gehen Sie mit Fehlern um?</h3>
            <label><input type="radio" name="q9" value="D"> Ich lerne schnell aus meinen Fehlern und mache weiter.</label><br>
            <label><input type="radio" name="q9" value="I"> Ich versuche, die Fehler positiv zu sehen und daraus zu lernen.</label><br>
            <label><input type="radio" name="q9" value="S"> Ich nehme Fehler ruhig und gelassen an.</label><br>
            <label><input type="radio" name="q9" value="C"> Ich analysiere die Fehler gründlich und ziehe Schlüsse daraus.</label>
        </div>
        <div class="question">
            <h3>10. Wie gehen Sie mit neuen Aufgaben um?</h3>
            <label><input type="radio" name="q10" value="D"> Ich nehme neue Aufgaben als Herausforderung an.</label><br>
            <label><input type="radio" name="q10" value="I"> Ich begrüße neue Aufgaben mit Begeisterung.</label><br>
            <label><input type="radio" name="q10" value="S"> Ich gehe neue Aufgaben ruhig und methodisch an.</label><br>
            <label><input type="radio" name="q10" value="C"> Ich analysiere die neuen Aufgaben gründlich.</label>
        </div>
        <div class="question">
            <h3>11. Wie gehen Sie mit Unsicherheit um?</h3>
            <label><input type="radio" name="q11" value="D"> Ich bleibe fokussiert und handle schnell.</label><br>
            <label><input type="radio" name="q11" value="I"> Ich suche Unterstützung und Motivation bei anderen.</label><br>
            <label><input type="radio" name="q11" value="S"> Ich bleibe ruhig und gelassen.</label><br>
            <label><input type="radio" name="q11" value="C"> Ich analysiere die Ursachen der Unsicherheit.</label>
        </div>
        <div class="question">
            <h3>12. Wie gehen Sie mit Teamarbeit um?</h3>
            <label><input type="radio" name="q12" value="D"> Ich übernehme schnell die Führung.</label><br>
            <label><input type="radio" name="q12" value="I"> Ich bringe gute Stimmung ins Team.</label><br>
            <label><input type="radio" name="q12" value="S"> Ich arbeite ruhig und methodisch im Team.</label><br>
            <label><input type="radio" name="q12" value="C"> Ich analysiere die Teamdynamik gründlich.</label>
        </div>
        <button type="button" onclick="calculateResult()">Ergebnis anzeigen</button>
    </form>

    <div id="result" class="result">
        <h2 id="result-title"></h2>
        <div id="result-description"></div>
        
        <div class="chart-container">
            <h3>Punkteverteilung (Balkendiagramm)</h3>
            <canvas id="barChart"></canvas>
        </div>
        <div class="chart-container" style="margin-top: 20px;">
            <h3>Punkteverteilung (Kreisdiagramm)</h3>
            <canvas id="pieChart"></canvas>
        </div>
    </div>

    <script>
        let barChartInstance = null; // Variable, um Diagramm-Instanzen zu speichern
        let pieChartInstance = null;

        /**
         * Setzt alle Radio-Buttons im Formular zurück.
         */
        function resetForm() {
            const form = document.getElementById('disc-test');
            form.reset(); // Setzt alle Formularfelder auf ihren Ursprungswert zurück

            // Ergebnisbereich ausblenden und ggf. alte Diagramme zerstören
            document.getElementById('result').classList.remove('show');
            if (barChartInstance) {
                barChartInstance.destroy();
                barChartInstance = null;
            }
            if (pieChartInstance) {
                pieChartInstance.destroy();
                pieChartInstance = null;
            }
        }

        // Führt den Reset aus, wenn die Seite geladen wird
        window.addEventListener('load', resetForm);


        function calculateResult() {
            const form = document.forms['disc-test'];
            const answers = {
                D: 0,
                I: 0,
                S: 0,
                C: 0
            };
            let allQuestionsAnswered = true;
            const totalQuestions = 12;

            for (let i = 1; i <= totalQuestions; i++) {
                const questionName = 'q' + i;
                const selectedOption = form.elements[questionName].value;
                
                if (!selectedOption) {
                    allQuestionsAnswered = false;
                    break;
                }
                answers[selectedOption]++;
            }

            const resultDiv = document.getElementById('result');
            const resultTitle = document.getElementById('result-title');
            const resultDescription = document.getElementById('result-description');

            if (!allQuestionsAnswered) {
                resultDiv.classList.remove('show');
                resultDiv.classList.add('error');
                resultTitle.innerText = 'Fehler: Nicht alle Fragen beantwortet!';
                resultDescription.innerHTML = '<p>Bitte beantworten Sie **alle** Fragen, um Ihr Ergebnis zu erhalten.</p>';
                
                // Diagramme leeren/zerstören, falls sie existieren
                if (barChartInstance) barChartInstance.destroy();
                if (pieChartInstance) pieChartInstance.destroy();

                resultDiv.classList.add('show');
                
                // Zum Fehlerbereich scrollen
                resultDiv.scrollIntoView({ behavior: 'smooth', block: 'start' });
                return;
            }

            resultDiv.classList.remove('error');
            resultDiv.classList.add('show');
            
            const dominantType = Object.keys(answers).reduce((a, b) => answers[a] > answers[b] ? a : b);
            
            const typeDescriptions = {
                D: {
                    name: 'Dominant (D)',
                    merkmale: 'Durchsetzungsstark, zielorientiert, entscheidungsfreudig',
                    verhalten: 'Direkt, liebt Herausforderungen, will Ergebnisse sehen',
                    kommunikation: 'Klar, knapp, ergebnisorientiert'
                },
                I: {
                    name: 'Initiativ (I)',
                    merkmale: 'Begeisterungsfähig, kontaktfreudig, optimistisch',
                    verhalten: 'Inspirierend, redet gern, motiviert andere',
                    kommunikation: 'Emotional, offen, überzeugend'
                },
                S: {
                    name: 'Stetig (S)',
                    merkmale: 'Geduldig, hilfsbereit, zuverlässig',
                    verhalten: 'Teamorientiert, hört gut zu, vermeidet Konflikte',
                    kommunikation: 'Ruhig, freundlich, unterstützend'
                },
                C: {
                    name: 'Conform (C)',
                    merkmale: 'Analytisch, genau, qualitätsbewusst',
                    verhalten: 'Plant sorgfältig, achtet auf Details, liebt Regeln',
                    kommunikation: 'Sachlich, strukturiert, faktenbasiert'
                }
            };

            const currentType = typeDescriptions[dominantType];
            
            resultTitle.innerText = `Ihr dominantester Persönlichkeitstyp ist: ${currentType.name}`;
            resultDescription.innerHTML = `
                <p><strong>Merkmale:</strong> ${currentType.merkmale}</p>
                <p><strong>Typisches Verhalten:</strong> ${currentType.verhalten}</p>
                <p><strong>Kommunikationsstil:</strong> ${currentType.kommunikation}</p>
            `;

            // --- Diagramme erstellen ---
            const labels = ['Dominant (D)', 'Initiativ (I)', 'Stetig (S)', 'Conform (C)'];
            const data = [answers.D, answers.I, answers.S, answers.C];
            const backgroundColors = [
                'rgba(231, 76, 60, 0.8)',  // Rot für Dominant
                'rgba(241, 196, 15, 0.8)', // Gelb für Initiativ
                'rgba(46, 204, 113, 0.8)', // Grün für Stetig
                'rgba(52, 152, 219, 0.8)'  // Blau für Conform
            ];
            const borderColors = [
                'rgba(231, 76, 60, 1)',
                'rgba(241, 196, 15, 1)',
                'rgba(46, 204, 113, 1)',
                'rgba(52, 152, 219, 1)'
            ];

            // Balkendiagramm
            const barCtx = document.getElementById('barChart').getContext('2d');
            if (barChartInstance) {
                barChartInstance.destroy();
            }
            barChartInstance = new Chart(barCtx, {
                type: 'bar',
                data: {
                    labels: labels,
                    datasets: [{
                        label: 'Anzahl der Antworten',
                        data: data,
                        backgroundColor: backgroundColors,
                        borderColor: borderColors,
                        borderWidth: 1
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    scales: {
                        y: {
                            beginAtZero: true,
                            ticks: {
                                precision: 0
                            }
                        }
                    },
                    plugins: {
                        legend: {
                            display: false
                        },
                        title: {
                            display: true,
                            text: 'Verteilung Ihrer Antworten (Punkte)',
                            font: {
                                size: 16
                            }
                        }
                    }
                }
            });

            // Kreisdiagramm
            const pieCtx = document.getElementById('pieChart').getContext('2d');
            if (pieChartInstance) {
                pieChartInstance.destroy();
            }
            pieChartInstance = new Chart(pieCtx, {
                type: 'pie',
                data: {
                    labels: labels,
                    datasets: [{
                        label: 'Anteil der Antworten',
                        data: data,
                        backgroundColor: backgroundColors,
                        borderColor: borderColors,
                        borderWidth: 1
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: {
                        legend: {
                            position: 'right',
                            labels: {
                                font: {
                                    size: 14
                                }
                            }
                        },
                        title: {
                            display: true,
                            text: 'Prozentuale Verteilung Ihrer Antworten',
                            font: {
                                size: 16
                            }
                        },
                        tooltip: {
                            callbacks: {
                                label: function(context) {
                                    let label = context.label || '';
                                    if (label) {
                                        label += ': ';
                                    }
                                    if (context.parsed !== null) {
                                        let total = context.dataset.data.reduce((sum, current) => sum + current, 0);
                                        let percentage = ((context.parsed / total) * 100).toFixed(1) + '%';
                                        label += context.parsed + ' Punkte (' + percentage + ')';
                                    }
                                    return label;
                                }
                            }
                        }
                    }
                }
            });

            // Nach der Ergebnisberechnung zum Ergebnisbereich scrollen
            resultDiv.scrollIntoView({ behavior: 'smooth', block: 'start' });
        }
    </script>
</body>
</html>
