<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Lerntypentest für Auszubildende</title>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <style>
        /* Allgemeine Einstellungen */
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            margin: 0;
            padding: 40px 20px;
            background-color: #f0f2f5;
            color: #333;
            display: flex;
            justify-content: center;
            align-items: flex-start;
            min-height: 100vh;
        }

        /* Hauptcontainer des Tests */
        #test-container {
            background-color: #ffffff;
            padding: 40px;
            border-radius: 10px;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
            max-width: 800px;
            width: 100%;
            box-sizing: border-box;
            margin-bottom: 20px; /* Abstand nach unten für mobiles Scrolling */
        }

        h1, h2, h3 {
            color: #2c3e50;
            text-align: center;
            margin-bottom: 20px;
            font-weight: 600;
        }

        h1 {
            font-size: 2.2em;
        }

        h2 {
            font-size: 1.8em;
            margin-top: 30px;
        }

        h3 {
            font-size: 1.4em;
        }

        p {
            line-height: 1.7;
            margin-bottom: 15px;
        }

        /* Intro und Quiz Sektion */
        #intro-section, #quiz-section {
            text-align: center;
        }

        #intro-section button {
            background-color: #28a745;
            color: white;
            padding: 12px 25px;
            border: none;
            border-radius: 5px;
            font-size: 1.1em;
            cursor: pointer;
            transition: background-color 0.3s ease;
            margin-top: 20px;
        }

        #intro-section button:hover {
            background-color: #218838;
        }

        #quiz-section {
            display: none; /* Standardmäßig ausgeblendet, wird per JS eingeblendet */
        }

        .question-block {
            background-color: #e9f5ff;
            border: 1px solid #cce5ff;
            border-radius: 8px;
            padding: 25px;
            margin-bottom: 30px;
            text-align: left;
            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.05);
        }

        .question-block p {
            font-weight: 600;
            font-size: 1.1em;
            margin-bottom: 20px;
            color: #0056b3;
        }

        .options-group label {
            display: block;
            background-color: #ffffff;
            padding: 12px 15px;
            margin-bottom: 10px;
            border: 1px solid #e0e0e0;
            border-radius: 5px;
            cursor: pointer;
            transition: background-color 0.2s ease, border-color 0.2s ease;
            font-size: 1em;
            display: flex;
            align-items: center;
        }

        .options-group label:hover {
            background-color: #f0f8ff;
            border-color: #a3d3ff;
        }

        .options-group input[type="radio"] {
            margin-right: 10px;
            transform: scale(1.1); /* Größere Radio-Buttons */
        }

        .navigation-buttons {
            display: flex;
            justify-content: space-between;
            margin-top: 30px;
        }

        .navigation-buttons button {
            background-color: #007bff;
            color: white;
            padding: 10px 20px;
            border: none;
            border-radius: 5px;
            font-size: 1em;
            cursor: pointer;
            transition: background-color 0.3s ease;
        }

        .navigation-buttons button:hover {
            background-color: #0056b3;
        }

        .navigation-buttons button:disabled {
            background-color: #cccccc;
            cursor: not-allowed;
        }

        /* Ergebnis-Sektion */
        #result-section {
            display: none; /* Standardmäßig ausgeblendet */
            padding-top: 30px;
            border-top: 1px solid #eee;
            margin-top: 40px;
        }

        #dominant-learner-types {
            font-size: 1.5em;
            font-weight: 700;
            color: #dc3545;
            margin-top: 10px;
            margin-bottom: 30px;
            text-align: center;
        }

        /* Chart Styling */
        #chart-container {
            max-width: 600px;
            margin: 30px auto;
            padding: 20px;
            background-color: #fdfdfd;
            border-radius: 8px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.08);
        }

        /* Empfehlungen */
        .recommendation-type {
            margin-top: 35px;
            padding: 20px;
            background-color: #f8f9fa;
            border-left: 5px solid #007bff;
            border-radius: 5px;
            box-shadow: 0 1px 3px rgba(0,0,0,0.08);
        }

        .recommendation-type h3 {
            color: #007bff;
            margin-top: 0;
            margin-bottom: 15px;
            text-align: left;
        }

        .recommendation-type ul {
            list-style-type: disc;
            margin-left: 25px;
            padding-left: 0;
        }

        .recommendation-type ul li {
            margin-bottom: 8px;
        }

        /* Test neu starten Button */
        #restart-button {
            background-color: #6c757d;
            color: white;
            padding: 12px 25px;
            border: none;
            border-radius: 5px;
            font-size: 1.1em;
            cursor: pointer;
            transition: background-color 0.3s ease;
            margin-top: 40px;
            display: block;
            width: fit-content;
            margin-left: auto;
            margin-right: auto;
        }

        #restart-button:hover {
            background-color: #5a6268;
        }

        /* Responsivität */
        @media (max-width: 768px) {
            body {
                padding: 20px 10px;
            }
            #test-container {
                padding: 25px;
            }
            h1 {
                font-size: 1.8em;
            }
            h2 {
                font-size: 1.5em;
            }
            .question-block {
                padding: 15px;
            }
            .options-group label {
                padding: 10px;
            }
            .navigation-buttons button {
                padding: 8px 15px;
                font-size: 0.9em;
            }
            #chart-container {
                padding: 10px;
            }
        }
    </style>
</head>
<body>
    <div id="test-container">
        <div id="intro-section">
            <h1>Finde deinen Lerntyp!</h1>
            <p>Willkommen zum Lerntypentest für Auszubildende. Dieser Test hilft dir dabei, deine bevorzugten Lernstrategien zu erkennen und dein Lernen noch effektiver zu gestalten. Beantworte die folgenden 20 Fragen ehrlich, indem du die Option wählst, die am ehesten auf dich zutrifft.</p>
            <button id="start-test-button">Test starten</button>
        </div>

        <div id="quiz-section">
            <h2 id="question-counter">Frage 1 von 20</h2>
            <div id="question-display" class="question-block">
                </div>
            <div class="navigation-buttons">
                <button id="prev-button" disabled>Zurück</button>
                <button id="next-button">Nächste Frage</button>
                <button id="submit-button" style="display: none;">Ergebnis anzeigen</button>
            </div>
        </div>

        <div id="result-section">
            <h2>Dein Testergebnis</h2>
            <p style="text-align: center;">Basierend auf deinen Antworten ist/sind dein/e dominantester/n Lerntyp/en:</p>
            <div id="dominant-learner-types">
                </div>

            <h3>Deine Lerntypen-Verteilung:</h3>
            <div id="chart-container">
                <canvas id="learnerTypeChart"></canvas>
            </div>

            <div class="recommendations">
                <h2>Empfehlungen für dich:</h2>
                <div id="recommendation-texts">
                    </div>
            </div>
            <button id="restart-button">Test wiederholen</button>
        </div>
    </div>

    <script>
        const questions = [
            {
                question: "Am besten kann ich mich an Dinge oder mechanische Modelle erinnern, die ich angefasst, benutzt oder untersucht habe.",
                type: "Motorisch"
            },
            {
                question: "Mündlichen Erklärungen kann ich gut folgen, auch wenn der Sachverhalt kompliziert ist.",
                type: "Auditiv"
            },
            {
                question: "Bilder, Zeichnungen oder Diagramme helfen mir dabei, mir einen abstrakten Lernstoff besser vorstellen zu können.",
                type: "Visuell"
            },
            {
                question: "Mir ist es wichtig, mit anderen über ein Thema zu sprechen. So bekomme ich besser mit, was daran wichtig und unwichtig ist.",
                type: "Kommunikativ"
            },
            {
                question: "Ich kann gut zuhören und Lerninhalte leicht nacherzählen.",
                type: "Auditiv"
            },
            {
                question: "Informationen, die in einer Infografik dargestellt sind, kann ich besonders gut erinnern.",
                type: "Visuell"
            },
            {
                question: "Diskussionsrunden und Feedbacks helfen mir besonders gut dabei, mein Verständnis eines Themas zu vertiefen.",
                type: "Kommunikativ"
            },
            {
                question: "Ich mag es mich beim Lernen zu bewegen, stillzusitzen ist nicht so mein Ding!",
                type: "Motorisch"
            },
            {
                question: "Laute Geräusche in meiner Umgebung stören meine Konzentration. Ich kann mich am besten konzentrieren, wenn es um mich herum sehr ruhig ist.",
                type: "Auditiv"
            },
            {
                question: "Wenn ich ein Thema erklären soll, stelle ich es mir in Gedanken vor. Nur wenn ich ein klares Bild vor Augen habe, kann ich es auch beschreiben.",
                type: "Visuell"
            },
            {
                question: "Lerninhalte schreibe ich mir am besten selber auf. Es hilft mir wenig, wenn ich Informationen nur lese oder höre.",
                type: "Motorisch"
            },
            {
                question: "Ich unterhalte mich gern und viel mit anderen Menschen.",
                type: "Kommunikativ"
            },
            {
                question: "Um zu lernen, wie ich ein neues Gerät bediene, bevorzuge ich es, rumzuprobieren (learning by doing), bis es tut, was ich will.",
                type: "Motorisch"
            },
            {
                question: "Während ich lerne, trinke und esse ich gern etwas oder spiele mit einem Stift.",
                type: "Motorisch"
            },
            {
                question: "Informationen, die ich in einem Video sehe, kann ich mir besser merken, als wenn ich sie in einem Podcast höre.",
                type: "Visuell"
            },
            {
                question: "Mir fällt es leichter, etwas auswendig zu lernen, wenn ich es mir laut vorsage.",
                type: "Auditiv"
            },
            {
                question: "Ich lerne gerne über Frage-Antwort-Spiele, die ich zusammen mit anderen machen kann.",
                type: "Kommunikativ"
            },
            {
                question: "Ich baue gern Modelle oder mache praktische Experimente zu den Inhalten, die ich lernen soll. Praktische Themen sind mir am liebsten.",
                type: "Motorisch"
            },
            {
                question: "Am schnellsten lerne ich Inhalte auswendig, wenn ich beim Lernen laut mitspreche.",
                type: "Auditiv"
            },
            {
                question: "Erklärungen kann ich leichter verstehen, wenn ich dazu Pläne, Diagramme oder Zeichnungen ansehen kann.",
                type: "Visuell"
            }
        ];

        const recommendationTexts = {
            "Auditiv": `
                <div class="recommendation-type">
                    <h3>Der Auditive Lerntyp</h3>
                    <p>Schöne und gut strukturierte Aufzeichnungen benötigt er nicht unbedingt.</p>
                    <p>Er prägt sich am besten das Gehörte seiner Mitmenschen und der Lehrer ein. Durch wiederholtes, lautes Aufsagen des Lernstoffs lernt er am effektivsten. So kann beispielsweise eine markante Melodie als Gedächtnisstütze dienen.</p>
                    <p>Aber auch das Aufnehmen der Stoffsammlung und Abspielen dieser kann eine mögliche Lernmethode des auditiven Lerntyps sein. Außerdem fällt es ihm leicht, theoretisches Wissen wie ein Liedtext auswendig zu lernen und aufzusagen.</p>
                    <ul>
                        <li>**Laut aufsagen:** Wiederholen den Lernstoff laut.</li>
                        <li>**Audioaufnahmen:** Nehme den Stoff auf und hören ihn ab.</li>
                        <li>**Melodien:** Nutzen markante Melodien als Gedächtnisstütze.</li>
                    </ul>
                </div>
            `,
            "Visuell": `
                <div class="recommendation-type">
                    <h3>Der Visuelle Lerntyp</h3>
                    <p>Er hat es leicht, denn er nimmt Informationen über die Augen auf und ist visuell geprägt. Aussagekräftige Bilder und Infografiken springen ihm sofort ins Auge und er kann sich Tage danach noch an diese erinnern.</p>
                    <p>Fotografisches Gedächtnis nennt man diese für die Abschlussprüfung sehr praktische Fähigkeit, um die ihn viele beneiden.</p>
                    <p>Denn der visuelle Lerntyp lernt schnell.</p>
                    <p>Tafelbilder und selbsterstellte Aufzeichnungen verankern sich im Gehirn besser als das Erzählte der Lehrer.</p>
                    <p>Durch viel Lesen und Abschreiben von Informationen prägt er sich den Stoff ein. Vollständige, übersichtliche und vor allem farblich differenzierte Notizen sind für den visuellen Lerntypen das A und O bei der Prüfungsvorbereitung.</p>
                    <ul>
                        <li>**Bilder und Infografiken:** Verwende aussagekräftige Visualisierungen.</li>
                        <li>**Notizen:** Machen dir farblich differenzierte und übersichtliche Notizen.</li>
                        <li>**Lesen und Abschreiben:** Lese und schreibe die Informationen ab.</li>
                    </ul>
                </div>
            `,
            "Motorisch": `
                <div class="recommendation-type">
                    <h3>Der Motorische Lerntyp</h3>
                    <p>Sein Motto ist „Learning by doing“.</p>
                    <p>Der motorische Lerntyp muss etwas selbst durchgeführt, praktisch ausprobiert haben, um komplizierte Zusammenhänge leichter verstehen zu können.</p>
                    <p>Aus dem daraus resultierenden Erfolg oder Misserfolg zieht er seine Rückschlüsse und lernt damit durch Erfahrung.</p>
                    <p>Theoretischer Lernstoff, den man stur auswendig lernen muss, ist für den motorischen Lerntypen die Hölle.</p>
                    <p>Er liebt es Dinge anzufassen, zu erfühlen und Dinge am eigenen Leib zu erleben. Informationen kann er leichter im Gedächtnis behalten und wieder abrufen, wenn er diese mit einer bestimmten Handlung oder Bewegung verknüpft.</p>
                    <p>Dadurch entstehen Assoziationen mit dem Lernstoff. Beispielsweise Rollenspiele oder das Verteilen von Lernzetteln in der Wohnung kann ihm bei der Prüfungsvorbereitung helfen.</p>
                    <ul>
                        <li>**Learning by Doing:** Probiere Dinge praktisch aus.</li>
                        <li>**Rollenspiele:** Setzen den Lernstoff in Rollenspielen um.</li>
                        <li>**Bewegung:** Verknüpfen Informationen mit bestimmten Handlungen oder Bewegungen.</li>
                    </ul>
                </div>
            `,
            "Kommunikativ": `
                <div class="recommendation-type">
                    <h3>Der Kommunikative Lerntyp</h3>
                    <p>Er ist von Haus aus, ein geselliger Typ und mag es, mit Menschen durch Sprache in Kontakt zu treten.</p>
                    <p>Durch das gesprochene Wort lernt er am besten.</p>
                    <p>So tauscht er sich gerne mit anderen über die zu lernenden Themen- und Sachverhalte aus.</p>
                    <p>In kleinen Lerngruppen diskutiert, argumentiert und erörtert er den Lernstoff.</p>
                    <p>Durch gegenseitiges Frage-Antwort-Spiel werden gemeinsame Lösungen gefunden.</p>
                    <p>Er benötigt zum Lernen auch immer wieder das Feedback der Gruppe. Durch ständiges Nachfragen versichert er sich, dass er alles richtig verstanden hat.</p>
                    <ul>
                        <li>**Diskussionen:** Tauschen dich sich in Lerngruppen aus.</li>
                        <li>**Frage-Antwort-Spiele:** Nutzen diese Methode zur Überprüfung des Wissens.</li>
                        <li>**Feedback:** Holen dir regelmäßig Rückmeldungen von der Gruppe.</li>
                    </ul>
                </div>
            `
        };

        const answers = ["trifft zu", "trifft manchmal zu", "trifft nicht zu"];
        const answerPoints = {
            "trifft zu": 2,
            "trifft manchmal zu": 1,
            "trifft nicht zu": 0
        };

        let currentQuestionIndex = 0;
        let userAnswers = new Array(questions.length).fill(null); // Speichert die ausgewählte Antwort für jede Frage

        // DOM-Elemente
        const introSection = document.getElementById('intro-section');
        const quizSection = document.getElementById('quiz-section');
        const resultSection = document.getElementById('result-section');
        const startTestButton = document.getElementById('start-test-button');
        const questionCounter = document.getElementById('question-counter');
        const questionDisplay = document.getElementById('question-display');
        const prevButton = document.getElementById('prev-button');
        const nextButton = document.getElementById('next-button');
        const submitButton = document.getElementById('submit-button');
        const dominantLearnerTypesDiv = document.getElementById('dominant-learner-types');
        const recommendationTextsDiv = document.getElementById('recommendation-texts');
        const restartButton = document.getElementById('restart-button');

        let chartInstance = null; // Variable, um die Chart-Instanz zu speichern

        // Event Listener
        startTestButton.addEventListener('click', startTest);
        nextButton.addEventListener('click', showNextQuestion);
        prevButton.addEventListener('click', showPreviousQuestion);
        submitButton.addEventListener('click', calculateResults);
        restartButton.addEventListener('click', restartTest);

        function startTest() {
            introSection.style.display = 'none';
            quizSection.style.display = 'block';
            currentQuestionIndex = 0;
            userAnswers.fill(null); // Reset answers
            renderQuestion();
            updateNavigationButtons();
        }

        function renderQuestion() {
            const q = questions[currentQuestionIndex];
            questionDisplay.innerHTML = `
                <p><span>${currentQuestionIndex + 1}.</span> ${q.question}</p>
                <div class="options-group">
                    ${answers.map((ans, index) => `
                        <label>
                            <input type="radio" name="question-${currentQuestionIndex}" value="${ans}" ${userAnswers[currentQuestionIndex] === ans ? 'checked' : ''}>
                            ${ans}
                        </label>
                    `).join('')}
                </div>
            `;
            // Listener für Radio-Buttons hinzufügen
            document.querySelectorAll(`input[name="question-${currentQuestionIndex}"]`).forEach(radio => {
                radio.addEventListener('change', (event) => {
                    userAnswers[currentQuestionIndex] = event.target.value;
                    updateNavigationButtons(); // Enable next/submit button if an answer is selected
                });
            });
            questionCounter.textContent = `Frage ${currentQuestionIndex + 1} von ${questions.length}`;
            updateNavigationButtons();
        }

        function updateNavigationButtons() {
            prevButton.disabled = currentQuestionIndex === 0;
            const currentAnswered = userAnswers[currentQuestionIndex] !== null;

            if (currentQuestionIndex === questions.length - 1) {
                nextButton.style.display = 'none';
                submitButton.style.display = currentAnswered ? 'inline-block' : 'none'; // Show submit only if last question answered
                submitButton.disabled = !currentAnswered;
            } else {
                nextButton.style.display = 'inline-block';
                submitButton.style.display = 'none';
                nextButton.disabled = !currentAnswered;
            }
        }

        function showNextQuestion() {
            if (userAnswers[currentQuestionIndex] === null) {
                alert("Bitte wähle eine Antwort, bevor du fortfährst.");
                return;
            }
            currentQuestionIndex++;
            if (currentQuestionIndex < questions.length) {
                renderQuestion();
            }
        }

        function showPreviousQuestion() {
            currentQuestionIndex--;
            renderQuestion();
        }

        function calculateResults() {
            if (userAnswers[currentQuestionIndex] === null) {
                alert("Bitte wähle eine Antwort, bevor du das Ergebnis anzeigst.");
                return;
            }

            const scores = {
                "Auditiv": 0,
                "Visuell": 0,
                "Motorisch": 0,
                "Kommunikativ": 0
            };

            userAnswers.forEach((answer, index) => {
                if (answer !== null) {
                    const questionType = questions[index].type;
                    scores[questionType] += answerPoints[answer];
                }
            });

            // Maximal mögliche Punkte pro Lerntyp (5 Fragen * 2 Punkte)
            const maxScorePerType = 5 * 2; // Da jede Frage 5 mal pro Typ vorkommt

            // Ermittle den/die dominantesten Lerntyp(en)
            let maxScore = 0;
            for (const type in scores) {
                if (scores[type] > maxScore) {
                    maxScore = scores[type];
                }
            }

            const dominantTypes = Object.keys(scores).filter(type => scores[type] === maxScore);

            dominantLearnerTypesDiv.innerHTML = dominantTypes.map(type => `<span>${type}</span>`).join(', ');

            // Zeige die Sektionen an/aus
            quizSection.style.display = 'none';
            resultSection.style.display = 'block';

            // Erstelle das Balkendiagramm
            renderChart(scores, maxScorePerType);

            // Zeige Empfehlungstexte an
            renderRecommendationTexts(dominantTypes);

            // Scrolle zum Ergebnisbereich
            resultSection.scrollIntoView({ behavior: 'smooth' });
        }

        function renderChart(scores, maxScorePerType) {
            const ctx = document.getElementById('learnerTypeChart').getContext('2d');

            // Zerstöre die alte Chart-Instanz, falls vorhanden
            if (chartInstance) {
                chartInstance.destroy();
            }

            const data = {
                labels: Object.keys(scores),
                datasets: [{
                    label: 'Punkte',
                    data: Object.values(scores),
                    backgroundColor: [
                        'rgba(255, 99, 132, 0.7)', // Auditiv
                        'rgba(54, 162, 235, 0.7)', // Visuell
                        'rgba(255, 206, 86, 0.7)', // Motorisch
                        'rgba(75, 192, 192, 0.7)'  // Kommunikativ
                    ],
                    borderColor: [
                        'rgba(255, 99, 132, 1)',
                        'rgba(54, 162, 235, 1)',
                        'rgba(255, 206, 86, 1)',
                        'rgba(75, 192, 192, 1)'
                    ],
                    borderWidth: 1
                }]
            };

            const options = {
                responsive: true,
                maintainAspectRatio: false, // Wichtig für responsive Höhe
                indexAxis: 'y', // Macht es zu einem horizontalen Balkendiagramm
                scales: {
                    x: {
                        beginAtZero: true,
                        max: maxScorePerType, // Maximale Punktzahl auf der X-Achse
                        title: {
                            display: true,
                            text: 'Punkte'
                        }
                    },
                    y: {
                        title: {
                            display: true,
                            text: 'Lerntyp'
                        }
                    }
                },
                plugins: {
                    legend: {
                        display: false
                    },
                    tooltip: {
                        callbacks: {
                            label: function(context) {
                                let label = context.dataset.label || '';
                                if (label) {
                                    label += ': ';
                                }
                                label += context.parsed.x + ' Punkte'; // Zeigt Punkte auf der X-Achse an
                                return label;
                            }
                        }
                    }
                }
            };

            chartInstance = new Chart(ctx, {
                type: 'bar',
                data: data,
                options: options
            });
        }

        function renderRecommendationTexts(dominantTypes) {
            recommendationTextsDiv.innerHTML = ''; // Vorherige Texte leeren
            dominantTypes.forEach(type => {
                if (recommendationTexts[type]) {
                    recommendationTextsDiv.innerHTML += recommendationTexts[type];
                }
            });
        }

        function restartTest() {
            // Chart-Instanz zerstören, um Speicherlecks zu vermeiden
            if (chartInstance) {
                chartInstance.destroy();
                chartInstance = null;
            }

            currentQuestionIndex = 0;
            userAnswers.fill(null); // Antworten zurücksetzen

            introSection.style.display = 'block'; // Intro wieder anzeigen
            quizSection.style.display = 'none';
            resultSection.style.display = 'none';

            // Scrolle ganz nach oben
            window.scrollTo({ top: 0, behavior: 'smooth' });
        }

        // Initialisiere den Test, wenn die Seite geladen ist
        document.addEventListener('DOMContentLoaded', () => {
            // Sicherstellen, dass nur die Intro-Sektion sichtbar ist
            introSection.style.display = 'block';
            quizSection.style.display = 'none';
            resultSection.style.display = 'none';
        });
    </script>
</body>
</html>

